(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{417:function(e,t,r){"use strict";r.r(t);r(35),r(69);var o=r(10),n={components:{},mounted:function(){this.topFunction(),console.log("Component mounted."),console.log(this.$store.getters.welcome),this.loading=!1},data:function(){return{showPassword:!1,registrationDetails:{email:"",password:"",name:"",phone:""},registrationDetailsError:{error:!1,email:"",password:"",name:"",phone:""},registrationDetailsValid:{valid:!1,validMessage:""},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"}],phoneRules:[function(e){return!!e||"Phone is required"}],nameRules:[function(e){return!!e||"Name is required"}],loading:!0,searchInput:""}},methods:{registrationPost:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,console.log(e.registrationDetails.email),console.log(e.registrationDetails.phone),t.next=5,e.$axios.$post("/api/auth/register",e.registrationDetails).then((function(e){console.log("success !"),console.log(e.data.access_token);var t=e.data.access_token;localStorage.setItem("token",t),window.location.href="/",r.loading=!1,r.registrationDetailsError={error:!1,email:"",password:"",name:"",phone:""},r.registrationDetailsValid={valid:!0,validMessage:"Successful ! Please wait.."}})).catch((function(e){r.registrationDetailsError={error:!0,email:e.response.data.email,password:e.response.data.password,name:e.response.data.name,phone:e.response.data.phone},r.loading=!1}));case 5:case"end":return t.stop()}}),t)})))()}},metaInfo:{titleTemplate:"%s Register"}},l=r(54),c=r(142),d=r.n(c),m=r(284),v=r(404),w=r(321),h=r(287),f=r(407),D=r(416),x=r(410),_=r(411),V=r(412),k=r(323),y=r(408),C=r(320),P=r(409),R=r(301),E=r(413),S=r(415),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-sheet",{staticClass:"mx-auto  mt-12",attrs:{elevation:"0",color:"grey lighten-5"}},[r("v-row",{staticClass:"mt-10 hidden-sm-and-down"}),e._v(" "),r("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:"","align-center":""}},[r("v-flex",[r("v-card",{staticClass:"mx-auto mb-2",attrs:{width:e.isXS?320:500,floating:""}},[r("v-card-title",[r("h1",{staticClass:"display-1 mx-auto font-weight-light"},[e._v("Sign Up")])]),e._v(" "),r("v-card-text",[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.registrationPost()}}},[r("v-text-field",{attrs:{label:"Name*",name:"name",id:"name",type:"text",rules:e.nameRules,"error-messages":e.registrationDetailsError.name},model:{value:e.registrationDetails.name,callback:function(t){e.$set(e.registrationDetails,"name",t)},expression:"registrationDetails.name"}}),e._v(" "),r("v-text-field",{attrs:{label:"Phone*",name:"phone",id:"phone",type:"text",rules:e.phoneRules,"error-messages":e.registrationDetailsError.phone},model:{value:e.registrationDetails.phone,callback:function(t){e.$set(e.registrationDetails,"phone",t)},expression:"registrationDetails.phone"}}),e._v(" "),r("v-text-field",{attrs:{label:"Email*",name:"email",id:"email",rules:e.emailRules,"error-messages":e.registrationDetailsError.email},model:{value:e.registrationDetails.email,callback:function(t){e.$set(e.registrationDetails,"email",t)},expression:"registrationDetails.email"}}),e._v(" "),r("v-text-field",{attrs:{label:"Password*",name:"password",id:"password","append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password",rules:e.passwordRules,"error-messages":e.registrationDetailsError.password},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.registrationDetails.password,callback:function(t){e.$set(e.registrationDetails,"password",t)},expression:"registrationDetails.password"}}),e._v(" "),r("v-divider"),e._v(" "),1==e.registrationDetailsValid.valid?r("p",{staticClass:"text-success mt-1 green--text lighten-1 text-center"},[e._v(e._s(e.registrationDetailsValid.validMessage))]):e._e(),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{text:"",small:""},on:{click:function(t){return e.gotorouterview("/login")}}},[e._v("\n                                        Sign In\n                                    ")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"success",type:"submit",text:""},on:{click:function(t){e.loading=!0}}},[r("v-icon",[e._v("person_add")]),e._v("\n                                        Sign Up\n                                    ")],1)],1)],1)],1)],1)],1)],1),e._v(" "),r("v-dialog",{attrs:{fullscreen:""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[r("v-container",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.5)"},attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"justify-center":"","align-center":""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)],1),e._v(" "),r("v-spacer")],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VApp:m.a,VBtn:v.a,VCard:w.a,VCardActions:h.a,VCardText:h.b,VCardTitle:h.c,VContainer:f.a,VDialog:D.a,VDivider:x.a,VFlex:_.a,VForm:V.a,VIcon:k.a,VLayout:y.a,VProgressCircular:C.a,VRow:P.a,VSheet:R.a,VSpacer:E.a,VTextField:S.a})}}]);